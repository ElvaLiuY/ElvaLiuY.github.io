!function(){function t(){l.rightWall=e.width,l.groundLevel=e.height,i()}function i(){n.clearRect(0,0,e.width,e.height),n.fillStyle="rgba(0,0,0,0)",n.fillRect(0,0,e.width,e.height)}function h(){this.x=Math.floor(Math.random()*e.width),this.y=Math.floor(Math.random()*e.height),this.vx=.05*Math.random()+.1,this.vy=.05*Math.random()+.1,this.particleSize=1+(Math.random()+.25),s++,o[s]=this,this.alpha=0,this.maxAlpha=.2+this.y/e.height*Math.random()*.8,this.alphaAction=1}function a(){i();var t=100;history.pushState?void 0!=document.msHidden&&(t=80):t=80,Object.keys(o).length>t&&(l.density=0);for(var e=0;e<l.density;e++)Math.random()>.97&&new h;for(var e in o)o[e].draw();requestAnimationFrame(a)}if(window.addEventListener){var e=document.querySelector("#mycanvas"),n=e.getContext("2d");e.height=$("body").height(),e.width=$("body").width(),console.log(e.height,e.width);var o={},s=0,l={density:300,maxLife:100,groundLevel:e.height,leftWall:0,rightWall:e.width,alpha:0,maxAlpha:1};t(),window.addEventListener("resize",t),h.prototype.draw=function(){this.x+=this.vx,this.y+=this.vy,this.y>e.height&&(this.y=0),1==this.alphaAction?this.alpha<this.maxAlpha?this.alpha+=.005:this.alphaAction=-1:this.alpha>.2?this.alpha-=.002:this.alphaAction=1,this.x+2*this.particleSize>=l.rightWall&&(this.x=this.x-l.rightWall),n.beginPath(),n.fillStyle="rgba(255,255,255,"+this.alpha.toString()+")",n.arc(this.x,this.y,this.particleSize,0,2*Math.PI,!0),n.closePath(),n.fill()},window.requestAnimationFrame||(window.requestAnimationFrame=function(t){setTimeout(t,17)}),a()}}();